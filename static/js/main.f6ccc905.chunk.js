(this["webpackJsonpburger-queen"]=this["webpackJsonpburger-queen"]||[]).push([[0],{27:function(e,t,a){e.exports=a(40)},32:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),o=(a(32),a(11)),i=a(6);a(9);var u=function(){return r.a.createElement("footer",{className:"row centered"},r.a.createElement("p",null,"@2019 Derechos Reservados"))};var s=function(){return r.a.createElement("header",{className:""},r.a.createElement("nav",{className:"navbar"},r.a.createElement("ul",{className:"nav-links"},r.a.createElement("li",{id:"title"},r.a.createElement("a",{href:"/"},"Burger Queen")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/about"},"Mesero")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/cocina"},"Cocina")))))},m=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),r.a.createElement("div",{className:"bg-home Site-content"}),r.a.createElement(u,null))},d=a(8),p=a(5),E=a(17),b=a.n(E);a(37);b.a.initializeApp({apiKey:"AIzaSyDCm5JWgQ3Vm4X2a7Q7ZCz6aqOp1gHcTzI",authDomain:"burger-queen-react-bls.firebaseapp.com",databaseURL:"https://burger-queen-react-bls.firebaseio.com",projectId:"burger-queen-react-bls",storageBucket:"burger-queen-react-bls.appspot.com",messagingSenderId:"658478814346",appId:"1:658478814346:web:f4bf5219e89878fd114973"});var f=b.a,g=function(e){var t=e.seleccionados,a=e.name,n=e.setSeleccionados,c=e.setTotal,l=e.total,o=e.setName;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-50"},r.a.createElement("form",{className:"order-box"},r.a.createElement("h1",null,"Detalles de la Orden"),r.a.createElement("label",{className:"mg-1"},"Cliente: \xa0",a),r.a.createElement("div",null,r.a.createElement("table",{className:"mg-1"},r.a.createElement("thead",{className:""},r.a.createElement("tr",null,r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Producto"),r.a.createElement("th",null,"Precio"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("textarea",{defaultValue:e.cantidad,disabled:!0})),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,"$",e.precio),r.a.createElement("td",null,"$",e.total),r.a.createElement("td",null,r.a.createElement("button",{type:"button",value:e.id,className:"btn",onClick:function(){!function(e){var a=t.filter((function(t){return t.nombre!==e}));n(a)}(e.nombre)}},"X")))})))),r.a.createElement("label",null,"TOTAL",r.a.createElement("textarea",{onChange:function(){var e=t.reduce((function(e,t){return e+t.total}),0);return c(e)}(),defaultValue:l}))),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn",onClick:function(){f.firestore().collection("orden").add({cliente:a,hora:new Date,"preparaci\xf3n":0,total:l,productos:t.map((function(e){return{producto:e.nombre,cantidad:e.cantidad,subtotal:e.total}})),estado:"pendiente"}).then((function(){n([]),o("")}))}},"ENVIAR")))))},O=a(26),v=function(e){var t=e.name,a=e.setName;return r.a.createElement("div",null,r.a.createElement("label",{className:""},"Nombre del Cliente:",r.a.createElement("input",{type:"text",className:"",value:t,onChange:function(e){a(e.target.value)},"data-testid":"inputNombreCliente"})))},h=function(e){var t=e.funcionDeSetearTipo,a=e.texto,n=e.tipo;return r.a.createElement("button",{type:"button",className:"btn",onClick:function(){t(n)}},a)};function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j=function(e){var t=e.name,a=e.setName,n=e.setTipo,c=e.productos,l=e.seleccionados,o=e.setSeleccionados;return r.a.createElement("div",{className:"w-50"},r.a.createElement("form",{className:"order-box"},r.a.createElement("h1",null,"Nueva Orden"),r.a.createElement(v,{name:t,setName:a}),r.a.createElement("div",{className:"row"},r.a.createElement(h,{funcionDeSetearTipo:n,texto:"DESAYUNO",tipo:"desayuno"}),r.a.createElement(h,{funcionDeSetearTipo:n,texto:"ALMUERZO  Y CENA",tipo:"almuerzo"}),r.a.createElement(h,{funcionDeSetearTipo:n,texto:"BEBIDAS",tipo:"bebidas"}),r.a.createElement(h,{funcionDeSetearTipo:n,texto:"EXTRAS",tipo:"extra"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:" text-center","data-testid":"productos"},c.map((function(e){return r.a.createElement("div",{key:e.id,className:"product",onClick:function(){!function(e){if(l.find((function(t){return t.id===e.id}))){var t=l.map((function(t){return t.id===e.id?(t.cantidad=t.cantidad+1,t.total=t.precio*t.cantidad,t):t}));o(t)}else o([].concat(Object(O.a)(l),[y({},e,{cantidad:1,total:e.precio})]))}(e)}},r.a.createElement("img",{className:"img-card",src:e.url,alt:"imagenes de comida"}),r.a.createElement("h1",{className:"text-card border"},e.nombre," "),r.a.createElement("h1",{className:"text-card border"}," $",e.precio))}))))))};function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var P=function(){var e=Object(n.useState)("desayuno"),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(p.a)(l,2),i=o[0],m=o[1],E=Object(n.useState)([]),b=Object(p.a)(E,2),O=b[0],v=b[1],h=Object(n.useState)(""),N=Object(p.a)(h,2),y=N[0],P=N[1],S=Object(n.useState)(0),D=Object(p.a)(S,2),k=D[0],C=D[1];return Object(n.useEffect)((function(){f.firestore().collection("productos").where("tipo","==",a).get().then((function(e){var t=[];e.forEach((function(e){t.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:e.id},e.data()))})),m(t)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),r.a.createElement("div",{className:"column-pedidos fila Site-content"},r.a.createElement(j,{setTipo:c,productos:i,name:y,setName:P,seleccionados:O,setSeleccionados:v}),r.a.createElement(g,{seleccionados:O,name:y,setName:P,setSeleccionados:v,setTotal:C,total:k})),r.a.createElement(u,null))},S=function(e){var t=e.p,a=t.duraci\u00f3n.toDate().getTime(),n=t.hora.toDate().getTime();return r.a.createElement("div",{className:"row space-around principal"},r.a.createElement("p",null,"Tiempo de preparaci\xf3n:"),r.a.createElement("p",null,function(){var e=a-n,t=parseInt(e/36e5%24)+":"+parseInt(e/6e4%60)+":"+parseInt(e/1e3%60);return console.log(t),t}()))},D=function(e){var t=e.origen,a=e.Entregar,n=e.Listo;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row flex-wrap center"},t.map((function(e){return r.a.createElement("div",{key:e.id,className:"product col"},r.a.createElement("p",{className:"principal"},"Cliente: ",e.cliente),r.a.createElement("table",{className:""},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Producto"),r.a.createElement("th",null,"Cantidad"))),r.a.createElement("tbody",null,e.productos.map((function(e){return r.a.createElement("tr",{key:e.producto},r.a.createElement("td",null,e.producto),r.a.createElement("td",null,e.cantidad))})))),r.a.createElement("div",{className:"row space-around principal"},r.a.createElement("p",null,"Hora de Pedido:"),r.a.createElement("p",null,e.hora.toDate().getHours(),":",e.hora.toDate().getMinutes(),":",e.hora.toDate().getSeconds())),r.a.createElement("div",{className:"row space-around bold principal"},r.a.createElement("p",null,"Total a pagar:"),r.a.createElement("p",null," $ ",e.total)),"pendiente"===e.estado&&r.a.createElement("button",{type:"button",onClick:function(){return n(e.id)}},"Marcar como pedido LISTO"),"listo"===e.estado&&r.a.createElement("div",null,r.a.createElement(S,{p:e}),r.a.createElement("button",{type:"button",onClick:function(){return a(e.id)}},"Marcar como pedido ENTREGADO")),"entregado"===e.estado&&r.a.createElement("p",null,"El pedido fue entregado con exito"))}))))};function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var C=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)("pendiente"),o=Object(p.a)(l,2),i=o[0],m=o[1];Object(n.useEffect)((function(){f.firestore().collection("orden").where("estado","==",i).orderBy("hora","asc").get().then((function(e){var t=[];e.forEach((function(e){t.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:e.id},e.data()))})),c(t)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),r.a.createElement("div",{className:"Site-content"},r.a.createElement("div",{className:"row center"},r.a.createElement("button",{className:"btn2",onClick:function(){return m("pendiente")}},"Ver Pendientes"),r.a.createElement("button",{className:"btn2",onClick:function(){return m("listo")}},"Ver Listos"),r.a.createElement("button",{className:"btn2",onClick:function(){return m("entregado")}},"Ver Entregados")),"pendiente"===i&&r.a.createElement("h1",null,"Pedidos Pendientes "),"listo"===i&&r.a.createElement("h1",null,"Pedidos Listos "),"entregado"===i&&r.a.createElement("h1",null,"Pedidos Entregados "),r.a.createElement(D,{Entregar:function(e){f.firestore().collection("orden").doc(e).update({estado:"entregado"})},origen:a,Listo:function(e){f.firestore().collection("orden").doc(e).update({estado:"listo","duraci\xf3n":new Date})}})),r.a.createElement(u,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"Site"},r.a.createElement(r.a.Fragment,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/about"},r.a.createElement(P,null)),r.a.createElement(i.a,{path:"/cocina"},r.a.createElement(C,null)),r.a.createElement(i.a,{path:"/pendiente"},r.a.createElement(D,null)),r.a.createElement(i.a,{path:"/"},r.a.createElement(m,null))))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){}},[[27,1,2]]]);
//# sourceMappingURL=main.f6ccc905.chunk.js.map